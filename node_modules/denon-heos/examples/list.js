'use strict';

const Discover = require('..').Discover;
const DenonHeos = require('..').DenonHeos;

let discover = new Discover();
	discover.on('device', ( device ) => {
		console.log('Name  :', device.friendlyName)
		console.log('Model :', device.modelName)
		console.log('Number:', device.modelNumber)
		console.log('MAC   :', device.wlanMac)
		console.log('IP    :', device.address, '\n')
		let speaker = new DenonHeos(device. address)
	        .connect(( err ) => {
        	        if( err ) return console.error( err );

                	console.log('Connected!');
			speaker.playerGetPlayers( ( err, result ) => {
                		if( err ) return console.error( 'playerGetPlayers', err );

	                        console.log('playerGetPlayers', result);
			})
		})

	})
	discover.start();
